<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>محفظتي - نظام الاستثمار المتكامل</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts - Tajawal -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <!-- Animation Library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="wallet-styles.css">
    <link rel="stylesheet" href="2wallet-styles.css">
</head>
<body>
    <!-- Loader -->
    <div id="app-loader">
        <div class="loader-content">
            <img src="assets/logo.png" alt="محفظتي">
            <div class="spinner"></div>
            <p>جاري تحميل بياناتك...</p>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="login-screen" class="auth-screen">
        <div class="auth-container animate__animated animate__fadeIn">
            <div class="auth-logo">
                <img src="assets/logo.png" alt="محفظتي">
                <h1>محفظتي</h1>
                <p>البوابة الشخصية لنظام الاستثمار المتكامل</p>
            </div>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">تسجيل الدخول</button>
                <button class="auth-tab" data-tab="register">إنشاء حساب</button>
            </div>
            <div class="auth-content">
                <!-- Login Form -->
                <div id="login-tab" class="auth-tab-content active">
                    <form id="login-form">
                        <div class="form-group">
                            <label for="login-email">البريد الإلكتروني</label>
                            <div class="input-group">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="login-email" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="login-password">كلمة المرور</label>
                            <div class="input-group">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="login-password" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-block">تسجيل الدخول</button>
                        </div>
                        <div class="form-footer">
                            <a href="#" id="forgot-password">نسيت كلمة المرور؟</a>
                        </div>
                    </form>
                </div>
                
                <!-- Registration Form -->
                <div id="register-tab" class="auth-tab-content">
                    <form id="register-form">
                        <div class="form-group">
                            <label for="register-investor-id">معرف المستثمر (اختياري)</label>
                            <div class="input-group">
                                <i class="fas fa-id-card"></i>
                                <input type="text" id="register-investor-id">
                            </div>
                            <small class="form-hint">أدخل معرف المستثمر الخاص بك من نظام الاستثمار المتكامل</small>
                        </div>
                        <div class="form-group">
                            <label for="register-email">البريد الإلكتروني</label>
                            <div class="input-group">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="register-email" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="register-password">كلمة المرور</label>
                            <div class="input-group">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="register-password" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="register-confirm-password">تأكيد كلمة المرور</label>
                            <div class="input-group">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="register-confirm-password" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-block">إنشاء حساب</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app-container" class="hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <button id="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="logo">
                    <img src="assets/logo.png" alt="محفظتي">
                    <h1>محفظتي</h1>
                </div>
                <div class="user-menu">
                    <button id="notifications-btn">
                        <i class="fas fa-bell"></i>
                        <span class="badge" id="notifications-count">0</span>
                    </button>
                    <div class="user-avatar" id="user-menu-trigger">
                        <img src="assets/default-avatar.png" alt="صورة المستخدم" id="user-avatar">
                    </div>
                </div>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="user-info">
                    <div class="user-avatar large">
                        <img src="assets/default-avatar.png" alt="صورة المستخدم" id="sidebar-avatar">
                    </div>
                    <h3 id="user-name">اسم المستثمر</h3>
                    <p id="user-email">email@example.com</p>
                </div>
                <nav class="sidebar-nav">
                    <ul>
                        <li class="active">
                            <a href="#dashboard" data-page="dashboard">
                                <i class="fas fa-home"></i>
                                <span>الرئيسية</span>
                            </a>
                        </li>
                        <li>
                            <a href="#transactions" data-page="transactions">
                                <i class="fas fa-exchange-alt"></i>
                                <span>المعاملات</span>
                            </a>
                        </li>
                        <li>
                            <a href="#profits" data-page="profits">
                                <i class="fas fa-coins"></i>
                                <span>الأرباح</span>
                            </a>
                        </li>
                        <li>
                            <a href="#withdraw" data-page="withdraw">
                                <i class="fas fa-money-bill-wave"></i>
                                <span>طلب سحب</span>
                            </a>
                        </li>
                        <li>
                            <a href="#profile" data-page="profile">
                                <i class="fas fa-user"></i>
                                <span>الملف الشخصي</span>
                            </a>
                        </li>
                        <li>
                            <a href="#settings" data-page="settings">
                                <i class="fas fa-cog"></i>
                                <span>الإعدادات</span>
                            </a>
                        </li>
                    </ul>
                </nav>
                <div class="sidebar-footer">
                    <button id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>تسجيل الخروج</span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <section id="dashboard-page" class="page active">
                <div class="page-header">
                    <h2>لوحة التحكم</h2>
                    <p>مرحباً بك في محفظتك الشخصية</p>
                </div>
                
                <!-- النموذج الإضافي لربط معرف المستثمر -->
                <div id="link-investor-section" class="investment-card-container" style="display: none;">
                    <div class="card animate__animated animate__fadeInUp">
                        <div class="card-header">
                            <h3><i class="fas fa-link"></i> ربط حساب المستثمر</h3>
                        </div>
                        <div class="card-body">
                            <p>يبدو أنك لم تقم بربط حسابك بمعرف المستثمر بعد. يرجى إدخال معرف المستثمر الخاص بك لربطه بحسابك:</p>
                            <form id="link-investor-form">
                                <div class="form-group">
                                    <label for="investor-id-input">معرف المستثمر</label>
                                    <div class="input-group">
                                        <i class="fas fa-id-card"></i>
                                        <input type="text" id="investor-id-input" placeholder="أدخل معرف المستثمر" required>
                                    </div>
                                    <small class="form-hint">يمكنك الحصول على معرف المستثمر من مدير النظام أو من التقارير المرسلة إليك</small>
                                </div>
                                <button type="submit" class="btn btn-primary">ربط الحساب</button>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- بطاقات الإحصائيات -->
                <div class="stats-card-container">
                    <div class="card stats-card animate__animated animate__fadeInUp">
                        <div class="stats-card-icon blue">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="stats-card-content">
                            <h3>إجمالي الاستثمار</h3>
                            <h2 id="total-investment">0 دينار</h2>
                            <div class="stats-card-detail" id="investment-change">
                                <i class="fas fa-arrow-up"></i>
                                <span>0%</span>
                                <span>هذا الشهر</span>
                            </div>
                        </div>
                    </div>
                    <div class="card stats-card animate__animated animate__fadeInUp" style="animation-delay: 0.1s;">
                        <div class="stats-card-icon green">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="stats-card-content">
                            <h3>إجمالي الأرباح</h3>
                            <h2 id="total-profit">0 دينار</h2>
                            <div class="stats-card-detail" id="profit-change">
                                <i class="fas fa-arrow-up"></i>
                                <span>0%</span>
                                <span>هذا الشهر</span>
                            </div>
                        </div>
                    </div>
                    <div class="card stats-card animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
                        <div class="stats-card-icon purple">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stats-card-content">
                            <h3>أرباح شهرية</h3>
                            <h2 id="monthly-profit">0 دينار</h2>
                            <div class="stats-card-detail" id="monthly-profit-change">
                                <i class="fas fa-arrow-up"></i>
                                <span>0%</span>
                                <span>عن الشهر السابق</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- الرسم البياني للأرباح -->
                <div class="charts-container">
                    <div class="card chart-card animate__animated animate__fadeInUp">
                        <div class="card-header">
                            <h3>تطور الأرباح الشهرية</h3>
                            <div class="chart-options">
                                <select id="profit-chart-period">
                                    <option value="6">آخر 6 أشهر</option>
                                    <option value="12" selected>آخر 12 شهر</option>
                                    <option value="24">آخر 24 شهر</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="profit-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- أحدث المعاملات -->
                <div class="card recent-transactions-card animate__animated animate__fadeInUp">
                    <div class="card-header">
                        <h3>أحدث المعاملات</h3>
                        <a href="#transactions" data-page="transactions" class="btn btn-link">عرض الكل</a>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>التاريخ</th>
                                        <th>النوع</th>
                                        <th>الوصف</th>
                                        <th>المبلغ</th>
                                        <th>الحالة</th>
                                    </tr>
                                </thead>
                                <tbody id="recent-transactions-table">
                                    <tr class="placeholder-row">
                                        <td colspan="5" class="text-center">جاري تحميل المعاملات...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- الاستثمارات الحالية -->
                <div class="investment-card-container">
                    <div class="card animate__animated animate__fadeInUp">
                        <div class="card-header">
                            <h3>استثماراتي</h3>
                        </div>
                        <div class="card-body" id="investments-container">
                            <div class="placeholder-message">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>جاري تحميل الاستثمارات...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Transactions Page -->
            <section id="transactions-page" class="page">
                <div class="page-header">
                    <h2>المعاملات</h2>
                    <p>سجل كامل لمعاملاتك المالية</p>
                </div>

                <div class="filter-bar">
                    <div class="filter-group">
                        <label for="transaction-type-filter">نوع المعاملة</label>
                        <select id="transaction-type-filter">
                            <option value="all">الكل</option>
                            <option value="deposit">إيداع</option>
                            <option value="withdraw">سحب</option>
                            <option value="profit">ربح</option>
                            <option value="transfer">تحويل</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="transaction-date-filter">الفترة</label>
                        <select id="transaction-date-filter">
                            <option value="all">الكل</option>
                            <option value="month">هذا الشهر</option>
                            <option value="quarter">هذا الربع</option>
                            <option value="year">هذه السنة</option>
                        </select>
                    </div>
                    <div class="filter-actions">
                        <button id="export-transactions" class="btn btn-outline">
                            <i class="fas fa-file-export"></i>
                            <span>تصدير</span>
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>التاريخ</th>
                                        <th>رقم المرجع</th>
                                        <th>النوع</th>
                                        <th>الوصف</th>
                                        <th>المبلغ</th>
                                        <th>الحالة</th>
                                        <th>الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody id="transactions-table">
                                    <tr class="placeholder-row">
                                        <td colspan="7" class="text-center">جاري تحميل المعاملات...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="pagination-container">
                            <div class="pagination-info">
                                <span>عرض <span id="current-showing">0</span> من <span id="total-records">0</span> معاملة</span>
                            </div>
                            <div class="pagination">
                                <button id="prev-page" class="btn btn-sm" disabled>
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                                <div id="pagination-numbers">
                                    <button class="btn btn-sm active">1</button>
                                </div>
                                <button id="next-page" class="btn btn-sm" disabled>
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profits Page -->
            <section id="profits-page" class="page">
                <div class="page-header">
                    <h2>الأرباح</h2>
                    <p>تفاصيل وتقارير الأرباح من استثماراتك</p>
                </div>

                <!-- بطاقات ملخص الأرباح -->
                <div class="stats-card-container">
                    <div class="card stats-card animate__animated animate__fadeInUp">
                        <div class="stats-card-icon green">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="stats-card-content">
                            <h3>إجمالي الأرباح</h3>
                            <h2 id="total-profit-sum">0 دينار</h2>
                            <div class="stats-card-detail">
                                <span>منذ بداية الاستثمار</span>
                            </div>
                        </div>
                    </div>
                    <div class="card stats-card animate__animated animate__fadeInUp" style="animation-delay: 0.1s;">
                        <div class="stats-card-icon blue">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stats-card-content">
                            <h3>هذا الشهر</h3>
                            <h2 id="current-month-profit">0 دينار</h2>
                            <div class="stats-card-detail" id="month-profit-change">
                                <i class="fas fa-arrow-up"></i>
                                <span>0%</span>
                                <span>عن الشهر السابق</span>
                            </div>
                        </div>
                    </div>
                    <div class="card stats-card animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
                        <div class="stats-card-icon purple">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <div class="stats-card-content">
                            <h3>متوسط العائد</h3>
                            <h2 id="average-return">0%</h2>
                            <div class="stats-card-detail">
                                <span>سنوياً</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- الرسوم البيانية للأرباح -->
                <div class="charts-container grid-2">
                    <div class="card chart-card animate__animated animate__fadeInUp">
                        <div class="card-header">
                            <h3>تطور الأرباح الشهرية</h3>
                            <div class="chart-options">
                                <select id="profit-trend-period">
                                    <option value="6">آخر 6 أشهر</option>
                                    <option value="12" selected>آخر 12 شهر</option>
                                    <option value="24">آخر 24 شهر</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="profit-trend-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="card chart-card animate__animated animate__fadeInUp">
                        <div class="card-header">
                            <h3>توزيع الأرباح حسب نوع الاستثمار</h3>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="profit-distribution-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- جدول سجل الأرباح -->
                <div class="card">
                    <div class="card-header">
                        <h3>سجل الأرباح</h3>
                        <div>
                            <button id="export-profits" class="btn btn-outline">
                                <i class="fas fa-file-export"></i>
                                <span>تصدير التقرير</span>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="filter-bar">
                            <div class="filter-group">
                                <label for="profit-year-filter">السنة</label>
                                <select id="profit-year-filter">
                                    <option value="2025">2025</option>
                                    <option value="2024" selected>2024</option>
                                    <option value="2023">2023</option>
                                    <option value="2022">2022</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="profit-investment-filter">الاستثمار</label>
                                <select id="profit-investment-filter">
                                    <option value="all">جميع الاستثمارات</option>
                                </select>
                            </div>
                        </div>

                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>الشهر</th>
                                        <th>نوع الاستثمار</th>
                                        <th>المبلغ المستثمر</th>
                                        <th>نسبة الربح</th>
                                        <th>قيمة الربح</th>
                                        <th>تاريخ الاستحقاق</th>
                                        <th>الحالة</th>
                                    </tr>
                                </thead>
                                <tbody id="profits-table">
                                    <tr class="placeholder-row">
                                        <td colspan="7" class="text-center">جاري تحميل بيانات الأرباح...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Withdraw Page -->
            <section id="withdraw-page" class="page">
                <div class="page-header">
                    <h2>طلب سحب</h2>
                    <p>سحب الأرباح أو جزء من الاستثمار</p>
                </div>

                <div class="cards-container">
                    <div class="card">
                        <div class="card-header">
                            <h3>إنشاء طلب سحب جديد</h3>
                        </div>
                        <div class="card-body">
                            <form id="withdraw-form">
                                <div class="form-group">
                                    <label for="withdraw-type">نوع السحب</label>
                                    <select id="withdraw-type" required>
                                        <option value="">اختر نوع السحب</option>
                                        <option value="profit">سحب أرباح</option>
                                        <option value="partial">سحب جزئي للاستثمار</option>
                                        <option value="full">سحب كامل الاستثمار</option>
                                    </select>
                                </div>
                                <div class="form-group" id="investment-select-group">
                                    <label for="withdraw-investment">الاستثمار</label>
                                    <select id="withdraw-investment" required>
                                        <option value="">اختر الاستثمار</option>
                                    </select>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="withdraw-amount">المبلغ</label>
                                        <div class="input-group">
                                            <input type="number" id="withdraw-amount" step="0.01" min="0" placeholder="أدخل المبلغ" required>
                                            <span class="input-group-text">دينار</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="withdraw-available">المبلغ المتاح</label>
                                        <div class="input-group">
                                            <input type="text" id="withdraw-available" readonly disabled>
                                            <span class="input-group-text">دينار</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="withdraw-reason">سبب السحب</label>
                                    <textarea id="withdraw-reason" rows="3" placeholder="اذكر سبب السحب (اختياري)"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="withdraw-method">طريقة الاستلام</label>
                                    <select id="withdraw-method" required>
                                        <option value="">اختر طريقة الاستلام</option>
                                        <option value="bank">تحويل بنكي</option>
                                        <option value="cash">استلام نقدي</option>
                                        <option value="check">شيك</option>
                                    </select>
                                </div>
                                <div class="form-group bank-details" style="display: none;">
                                    <label for="withdraw-bank-name">اسم البنك</label>
                                    <input type="text" id="withdraw-bank-name" placeholder="أدخل اسم البنك">
                                </div>
                                <div class="form-group bank-details" style="display: none;">
                                    <label for="withdraw-account-number">رقم الحساب</label>
                                    <input type="text" id="withdraw-account-number" placeholder="أدخل رقم الحساب البنكي">
                                </div>
                                <div class="form-group">
                                    <label for="withdraw-notes">ملاحظات إضافية</label>
                                    <textarea id="withdraw-notes" rows="3" placeholder="أي ملاحظات إضافية تتعلق بطلب السحب"></textarea>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-primary">تقديم طلب السحب</button>
                                    <button type="reset" class="btn btn-outline">إلغاء</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- جدول طلبات السحب السابقة -->
                <div class="card">
                    <div class="card-header">
                        <h3>طلبات السحب السابقة</h3>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>رقم الطلب</th>
                                        <th>تاريخ الطلب</th>
                                        <th>نوع السحب</th>
                                        <th>المبلغ</th>
                                        <th>طريقة الاستلام</th>
                                        <th>الحالة</th>
                                        <th>الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody id="withdraw-requests-table">
                                    <tr class="placeholder-row">
                                        <td colspan="7" class="text-center">جاري تحميل طلبات السحب...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Page -->
            <section id="profile-page" class="page">
                <div class="page-header">
                    <h2>الملف الشخصي</h2>
                    <p>إدارة معلوماتك الشخصية وتفاصيل حسابك</p>
                </div>

                <div class="cards-container grid-2">
                    <!-- بطاقة المعلومات الشخصية -->
                    <div class="card">
                        <div class="card-header">
                            <h3>المعلومات الشخصية</h3>
                            <button id="edit-profile-btn" class="btn btn-sm btn-outline">
                                <i class="fas fa-edit"></i>
                                <span>تعديل</span>
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="profile-data" id="profile-view-mode">
                                <div class="profile-avatar">
                                    <div class="user-avatar xl-large" id="profile-avatar">
                                        <span id="profile-avatar-letter">أ</span>
                                    </div>
                                    <h2 id="profile-fullname">اسم المستخدم</h2>
                                    <span class="badge badge-success" id="profile-status">نشط</span>
                                </div>
                                
                                <div class="profile-info-group">
                                    <h3>معلومات الاتصال</h3>
                                    <div class="profile-info-item">
                                        <div class="profile-info-label">
                                            <i class="fas fa-envelope"></i>
                                            <span>البريد الإلكتروني</span>
                                        </div>
                                        <div class="profile-info-value" id="profile-email">example@domain.com</div>
                                    </div>
                                    <div class="profile-info-item">
                                        <div class="profile-info-label">
                                            <i class="fas fa-phone"></i>
                                            <span>رقم الهاتف</span>
                                        </div>
                                        <div class="profile-info-value" id="profile-phone">+962 xxx xxx xxx</div>
                                    </div>
                                </div>
                                
                                <div class="profile-info-group">
                                    <h3>معلومات إضافية</h3>
                                    <div class="profile-info-item">
                                        <div class="profile-info-label">
                                            <i class="fas fa-id-card"></i>
                                            <span>رقم المستثمر</span>
                                        </div>
                                        <div class="profile-info-value" id="profile-investor-id">INV-12345</div>
                                    </div>
                                    <div class="profile-info-item">
                                        <div class="profile-info-label">
                                            <i class="fas fa-calendar-alt"></i>
                                            <span>تاريخ الانضمام</span>
                                        </div>
                                        <div class="profile-info-value" id="profile-join-date">01/01/2023</div>
                                    </div>
                                    <div class="profile-info-item">
                                        <div class="profile-info-label">
                                            <i class="fas fa-map-marker-alt"></i>
                                            <span>العنوان</span>
                                        </div>
                                        <div class="profile-info-value" id="profile-address">عمان، الأردن</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- نموذج تعديل الملف الشخصي -->
                            <div class="profile-edit-form" id="profile-edit-mode" style="display: none;">
                                <form id="profile-edit-form">
                                    <div class="form-group">
                                        <label for="edit-fullname">الاسم الكامل</label>
                                        <input type="text" id="edit-fullname" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="edit-phone">رقم الهاتف</label>
                                        <input type="tel" id="edit-phone" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="edit-address">العنوان</label>
                                        <textarea id="edit-address" rows="2"></textarea>
                                    </div>
                                    <div class="form-action">
                                        <button type="submit" class="btn btn-primary">حفظ التغييرات</button>
                                        <button type="button" id="cancel-edit-btn" class="btn btn-outline">إلغاء</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <!-- بطاقة أمان الحساب -->
                    <div class="card">
                        <div class="card-header">
                            <h3>أمان الحساب</h3>
                        </div>
                        <div class="card-body">
                            <div class="security-options">
                                <div class="security-option">
                                    <div class="security-option-info">
                                        <h4>تغيير كلمة المرور</h4>
                                        <p>قم بتحديث كلمة المرور الخاصة بك بشكل دوري للحفاظ على أمان حسابك</p>
                                    </div>
                                    <button id="change-password-btn" class="btn btn-sm btn-outline">
                                        <i class="fas fa-key"></i>
                                        <span>تغيير</span>
                                    </button>
                                </div>
                                
                                <div class="security-option">
                                    <div class="security-option-info">
                                        <h4>التحقق بخطوتين</h4>
                                        <p>تفعيل التحقق بخطوتين لمزيد من الأمان عند تسجيل الدخول</p>
                                    </div>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="two-factor-toggle" class="toggle-input">
                                        <label for="two-factor-toggle" class="toggle-label"></label>
                                    </div>
                                </div>
                                
                                <div class="security-option">
                                    <div class="security-option-info">
                                        <h4>إشعارات تسجيل الدخول</h4>
                                        <p>تلقي إشعار عند تسجيل الدخول إلى حسابك من جهاز جديد</p>
                                    </div>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="login-alerts-toggle" class="toggle-input" checked>
                                        <label for="login-alerts-toggle" class="toggle-label"></label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- نموذج تغيير كلمة المرور -->
                            <div id="change-password-form-container" style="display: none;">
                                <hr>
                                <h4>تغيير كلمة المرور</h4>
                                <form id="change-password-form">
                                    <div class="form-group">
                                        <label for="current-password">كلمة المرور الحالية</label>
                                        <div class="input-group">
                                            <input type="password" id="current-password" required>
                                            <button type="button" class="password-toggle">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="new-password">كلمة المرور الجديدة</label>
                                        <div class="input-group">
                                            <input type="password" id="new-password" required>
                                            <button type="button" class="password-toggle">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="confirm-new-password">تأكيد كلمة المرور الجديدة</label>
                                        <div class="input-group">
                                            <input type="password" id="confirm-new-password" required>
                                            <button type="button" class="password-toggle">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="password-strength" id="password-strength">
                                        <div class="strength-meter">
                                            <div class="strength-bar" style="width: 0%;"></div>
                                        </div>
                                        <div class="strength-text">قوة كلمة المرور</div>
                                    </div>
                                    <div class="form-action">
                                        <button type="submit" class="btn btn-primary">تغيير كلمة المرور</button>
                                        <button type="button" id="cancel-password-change-btn" class="btn btn-outline">إلغاء</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- معلومات الحساب البنكي -->
                <div class="card">
                    <div class="card-header">
                        <h3>معلومات الحساب البنكي</h3>
                        <button id="edit-bank-info-btn" class="btn btn-sm btn-outline">
                            <i class="fas fa-edit"></i>
                            <span>تعديل</span>
                        </button>
                    </div>
                    <div class="card-body">
                        <div id="bank-info-view-mode">
                            <div class="bank-accounts-list" id="bank-accounts-container">
                                <div class="placeholder-message">
                                    <p>لم يتم إضافة أي حسابات بنكية بعد</p>
                                    <button id="add-bank-account-btn" class="btn btn-primary">
                                        <i class="fas fa-plus"></i>
                                        <span>إضافة حساب بنكي</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- نموذج تعديل معلومات الحساب البنكي -->
                        <div id="bank-info-edit-mode" style="display: none;">
                            <form id="bank-info-form">
                                <div class="form-group">
                                    <label for="bank-name">اسم البنك</label>
                                    <input type="text" id="bank-name" required>
                                </div>
                                <div class="form-group">
                                    <label for="account-holder">اسم صاحب الحساب</label>
                                    <input type="text" id="account-holder" required>
                                </div>
                                <div class="form-group">
                                    <label for="account-number">رقم الحساب</label>
                                    <input type="text" id="account-number" required>
                                </div>
                                <div class="form-group">
                                    <label for="iban">رقم IBAN</label>
                                    <input type="text" id="iban">
                                </div>
                                <div class="form-group">
                                    <label for="branch-name">اسم الفرع</label>
                                    <input type="text" id="branch-name">
                                </div>
                                <div class="form-action">
                                    <button type="submit" class="btn btn-primary">حفظ المعلومات</button>
                                    <button type="button" id="cancel-bank-edit-btn" class="btn btn-outline">إلغاء</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Page -->
            <section id="settings-page" class="page">
                <div class="page-header">
                    <h2>الإعدادات</h2>
                    <p>تخصيص إعدادات التطبيق والإشعارات</p>
                </div>
                
                <div class="cards-container">
                    <!-- إعدادات التنبيهات والإشعارات -->
                    <div class="card">
                        <div class="card-header">
                            <h3>التنبيهات والإشعارات</h3>
                        </div>
                        <div class="card-body">
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>تنبيهات الأرباح</h4>
                                    <p>إشعارات عندما يتم إضافة أرباح جديدة إلى حسابك</p>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="profit-alerts-toggle" class="toggle-input" checked>
                                    <label for="profit-alerts-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>تنبيهات المعاملات</h4>
                                    <p>إشعارات عند إجراء معاملات جديدة على حسابك</p>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="transaction-alerts-toggle" class="toggle-input" checked>
                                    <label for="transaction-alerts-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>تنبيهات طلبات السحب</h4>
                                    <p>إشعارات عند تغيير حالة طلبات السحب الخاصة بك</p>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="withdraw-alerts-toggle" class="toggle-input" checked>
                                    <label for="withdraw-alerts-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>تنبيهات البريد الإلكتروني</h4>
                                    <p>استلام إشعارات مهمة عبر البريد الإلكتروني</p>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="email-alerts-toggle" class="toggle-input" checked>
                                    <label for="email-alerts-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>تنبيهات الرسائل النصية</h4>
                                    <p>استلام تنبيهات مهمة عبر الرسائل النصية SMS</p>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="sms-alerts-toggle" class="toggle-input">
                                    <label for="sms-alerts-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- إعدادات العرض -->
                    <div class="card">
                        <div class="card-header">
                            <h3>إعدادات العرض</h3>
                        </div>
                        <div class="card-body">
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>الوضع الليلي</h4>
                                    <p>تفعيل وضع العرض الليلي لراحة العين</p>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="dark-mode-toggle" class="toggle-input">
                                    <label for="dark-mode-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>عرض المبالغ بالعملة المحلية</h4>
                                    <p>عرض المبالغ بالدينار الأردني بدلاً من الدولار الأمريكي</p>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="local-currency-toggle" class="toggle-input" checked>
                                    <label for="local-currency-toggle" class="toggle-label"></label>
                                </div>
                            </div>
                            
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>اللغة</h4>
                                    <p>تغيير لغة واجهة التطبيق</p>
                                </div>
                                <div class="settings-control">
                                    <select id="language-select">
                                        <option value="ar" selected>العربية</option>
                                        <option value="en">English</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>تنسيق التاريخ</h4>
                                    <p>تغيير طريقة عرض التواريخ في التطبيق</p>
                                </div>
                                <div class="settings-control">
                                    <select id="date-format-select">
                                        <option value="dmy" selected>يوم/شهر/سنة</option>
                                        <option value="mdy">شهر/يوم/سنة</option>
                                        <option value="ymd">سنة/شهر/يوم</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- خيارات متقدمة -->
                    <div class="card">
                        <div class="card-header">
                            <h3>خيارات متقدمة</h3>
                        </div>
                        <div class="card-body">
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>تنزيل نسخة من البيانات</h4>
                                    <p>تنزيل نسخة من بياناتك المالية والمعاملات</p>
                                </div>
                                <button class="btn btn-outline btn-sm" id="download-data-btn">
                                    <i class="fas fa-download"></i>
                                    <span>تنزيل</span>
                                </button>
                            </div>
                            
                            <div class="settings-option">
                                <div class="settings-option-info">
                                    <h4>حذف الحساب</h4>
                                    <p>حذف حسابك وجميع بياناتك من النظام بشكل نهائي</p>
                                </div>
                                <button class="btn btn-danger btn-sm" id="delete-account-btn">
                                    <i class="fas fa-trash-alt"></i>
                                    <span>حذف</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Notifications Panel -->
    <div class="notifications-panel" id="notifications-panel">
        <div class="notifications-header">
            <h3>الإشعارات</h3>
            <button id="close-notifications">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="notifications-body" id="notifications-container">
            <div class="notification-placeholder">
                <i class="fas fa-bell-slash"></i>
                <p>لا توجد إشعارات جديدة</p>
            </div>
        </div>
        <div class="notifications-footer">
            <button id="mark-all-read" class="btn btn-link">
                <i class="fas fa-check-double"></i>
                <span>تعليم الكل كمقروء</span>
            </button>
        </div>
    </div>

    <!-- User Menu Panel -->
    <div class="user-menu-panel" id="user-menu-panel">
        <div class="user-menu-header">
            <div class="user-avatar medium">
                <img src="assets/default-avatar.png" alt="صورة المستخدم" id="menu-avatar">
            </div>
            <div class="user-menu-info">
                <h3 id="menu-user-name">اسم المستثمر</h3>
                <p id="menu-user-email">email@example.com</p>
            </div>
        </div>
        <div class="user-menu-body">
            <a href="#profile" data-page="profile" class="user-menu-item">
                <i class="fas fa-user"></i>
                <span>الملف الشخصي</span>
            </a>
            <a href="#settings" data-page="settings" class="user-menu-item">
                <i class="fas fa-cog"></i>
                <span>الإعدادات</span>
            </a>
            <a href="#" id="link-investor-menu-item" class="user-menu-item">
                <i class="fas fa-link"></i>
                <span>ربط حساب مستثمر</span>
            </a>
            <a href="#" id="help-support-item" class="user-menu-item">
                <i class="fas fa-question-circle"></i>
                <span>المساعدة والدعم</span>
            </a>
        </div>
        <div class="user-menu-footer">
            <button id="user-menu-logout-btn" class="btn btn-outline btn-block">
                <i class="fas fa-sign-out-alt"></i>
                <span>تسجيل الخروج</span>
            </button>
        </div>
    </div>

    <!-- Toasts Container -->
    <div class="toasts-container" id="toasts-container"></div>
    
    
    <!-- Firebase Configuration -->
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDGpAHia_wEmrhnmYjrPf1n1TrAzwEMiAI",
            authDomain: "messageemeapp.firebaseapp.com",
            databaseURL: "https://messageemeapp-default-rtdb.firebaseio.com",
            projectId: "messageemeapp",
            storageBucket: "messageemeapp.appspot.com",
            messagingSenderId: "255034474844",
            appId: "1:255034474844:web:5e3b7a6bc4b2fb94cc4199"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>

    <!-- تضمين ملفات JavaScript -->
    <script src="auth-manager.js"></script>
    <script src="wallet-app.js"></script>
</body>
</html>